<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Greenland Ice Sheet SEC</title>
    <script src="https://cdn.jsdelivr.net/npm/vega@5.22.1"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@5.6.1"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6.21.2"></script>
    <script src="time_series.js"></script>
    <script src="tabs.js"></script>
    <script defer src="image_viewer.js"></script>
    <link rel="Stylesheet" href="main.css">
</head>
<body onload="main()">
    <div id="flexroot">
        <h1>Mean Surface Elevation Change (SEC) in Greenland per year</h1>
        <p>This app is based on <a href="https://eocis.org/dataset-land-ice-elevation/">the EOCIS SEC dataset. For more information, please see the user guide.</a></p>
        <div class="tab">
            <button class="tablinks" onclick="openTab(event, 'timeseries')" id="defaultTab">Time Series</button>
            <button class="tablinks" onclick="openTab(event, 'periodview')">Map viewer</button>
        </div>
        <div id="timeseries" class="tabcontent">
            <p>The plot below shows how the height of the Greenlandic ice sheets changed over time from 1992 to the current day. Height changes are displayed for the whole ice sheet as well as individual drainage basins where ice flows from inland towards the ocean.</p>
            <div class="ts-container">
                <div id="vizdiv" class="ts-child">
                </div>
                <div class="ts-child">
                    <img src="Mouginot_basins.jpg">
                    <p style="color: gray; font-size: x-small;">Greenland drainage basin and ice sheet definitions produced by J. Mouginot and E. Rignot (Image from <a href="http://imbie.org/imbie-3/drainage-basins/">http://imbie.org/imbie-3/drainage-basins/</a>)</p>
                </div>
            </div>
        </div>
        <div id="periodview" class="tabcontent">
            <p>The plot below shows how the rate of height change over the Greenlandic ice sheet over 5-year periods. Any 5-year period can be selected between 1992 and the current day.</p>
            <p>Select a time period using the slider below.
                <div class="slidercontainer">
                    <input type="range" min="0" max="1" value="0" class="slider" id="imageSelect">
                </div>
            </p>
            <div hidden id="displayArea">
                <h4 id="displayText">Selected period using the slider below</h4>
                <img id="displayImage" src="" alt="Selected Image">
            </div>
        </div>
    </div>
    <script>
        document.getElementById("defaultTab").click();
    </script>
</body>
</html>